# Imweb 마이그레이션 가이드

## 현재 상황

- **프론트엔드**: Next.js (workbase-web)
- **백엔드 API**: NestJS (Workbase-AI)
- **데이터베이스**: Supabase PostgreSQL
- **인증 시스템**: 자체 구현 (이메일/비밀번호)

## Imweb 마이그레이션 옵션

### 옵션 1: 하이브리드 방식 (권장)

**구조**:
- **프론트엔드**: Imweb에서 호스팅 (정적 파일 또는 간단한 HTML)
- **백엔드 API**: Render 또는 다른 클라우드 서비스 유지
- **인증**: Imweb 로그인 + API 연동

**장점**:
- Imweb의 편리한 관리 도구 활용
- 기존 API 코드 그대로 사용
- Imweb 로그인 시스템 활용 가능

**단점**:
- 두 플랫폼 관리 필요
- CORS 설정 필요

### 옵션 2: 완전 마이그레이션

**구조**:
- **전체**: Imweb으로 이동
- **인증**: Imweb 로그인 시스템 사용

**제한사항**:
- Imweb은 Node.js 애플리케이션 직접 호스팅 어려움
- API 서버는 별도 호스팅 필요
- 코드 수정 필요

### 옵션 3: Imweb 로그인만 통합

**구조**:
- **현재 구조 유지**: Render에서 프론트엔드 + API 모두 호스팅
- **인증만 변경**: Imweb 로그인 시스템 통합

**장점**:
- 최소한의 코드 변경
- Imweb 로그인 시스템 활용
- 기존 기능 유지

## 추천 방법: 옵션 3 (Imweb 로그인 통합)

### 1단계: Imweb 로그인 API 확인

1. Imweb 개발자 문서 확인
2. 로그인 API 엔드포인트 확인
3. 인증 토큰 형식 확인

### 2단계: 인증 시스템 수정

현재 자체 인증 시스템을 Imweb 로그인으로 교체:

1. **프론트엔드 수정**:
   - Imweb 로그인 위젯 추가
   - 로그인 후 토큰을 API로 전달

2. **백엔드 수정**:
   - Imweb 토큰 검증 로직 추가
   - 사용자 정보를 Imweb에서 가져오기

### 3단계: 사용자 데이터 마이그레이션

1. 현재 사용자 데이터를 Imweb으로 이전
2. 또는 Imweb 사용자 ID를 데이터베이스에 저장

## Imweb 로그인 통합 구현

### 프론트엔드 (Next.js)

```typescript
// Imweb 로그인 위젯 사용
// 로그인 성공 후 API에 토큰 전달
```

### 백엔드 (NestJS)

```typescript
// Imweb 토큰 검증
// Imweb API에서 사용자 정보 가져오기
```

## 마이그레이션 체크리스트

### 현재 상태 백업
- [ ] 코드베이스 GitHub에 푸시 완료
- [ ] 데이터베이스 백업 (Supabase)
- [ ] 환경 변수 목록 정리

### Imweb 설정
- [ ] Imweb 계정 생성
- [ ] Imweb 개발자 API 키 발급
- [ ] Imweb 로그인 시스템 확인

### 코드 수정
- [ ] Imweb 로그인 위젯 통합
- [ ] 인증 미들웨어 수정
- [ ] 사용자 정보 연동

### 테스트
- [ ] 로그인 테스트
- [ ] API 호출 테스트
- [ ] 데이터 동기화 테스트

## 다음 단계

1. **Imweb 개발자 문서 확인**: 로그인 API 및 통합 방법 확인
2. **현재 코드베이스 백업**: GitHub에 최신 코드 푸시 확인
3. **Imweb 계정 설정**: 개발자 API 키 발급
4. **통합 코드 작성**: Imweb 로그인 시스템 연동

## 참고사항

- Imweb은 주로 쇼핑몰/정적 웹사이트용 플랫폼
- Node.js 애플리케이션 직접 호스팅은 제한적
- API 서버는 별도 호스팅 필요 (Render, Railway, AWS 등)
- Imweb 로그인만 통합하는 것이 가장 현실적

## 질문

1. **Imweb에서 어떤 기능을 사용하고 싶으신가요?**
   - 로그인 시스템만?
   - 전체 웹사이트 호스팅?
   - 쇼핑몰 기능?

2. **현재 Render 구조를 유지하면서 Imweb 로그인만 통합할까요?**
   - 가장 빠르고 안정적
   - 최소한의 코드 변경

3. **Imweb 개발자 문서를 확인하셨나요?**
   - 로그인 API 엔드포인트
   - 인증 토큰 형식
   - 통합 방법

