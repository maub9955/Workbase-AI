{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000/api\";\n\ntype PageTreeNode = {\n  id: string;\n  title: string;\n  icon?: string;\n  children: PageTreeNode[];\n};\n\ntype SidebarProps = {\n  token: string | null;\n  currentPageId?: string;\n  onPageSelect: (pageId: string) => void;\n  onCreatePage: () => void;\n  refreshTrigger?: number;\n};\n\nexport function Sidebar({ token, currentPageId, onPageSelect, onCreatePage, refreshTrigger }: SidebarProps) {\n  const [tree, setTree] = useState<PageTreeNode | null>(null);\n  const [expanded, setExpanded] = useState<Set<string>>(new Set());\n\n  const loadTree = async () => {\n    if (!token) return;\n    try {\n      const res = await fetch(`${API_URL}/pages/tree`, {\n        headers: { \"x-user-token\": token }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setTree(data);\n        setExpanded(new Set([data.id]));\n      }\n    } catch (error) {\n      console.error(\"Failed to load tree\", error);\n    }\n  };\n\n  useEffect(() => {\n    loadTree();\n  }, [token, refreshTrigger]);\n\n  const toggleExpand = (pageId: string) => {\n    setExpanded((prev) => {\n      const next = new Set(prev);\n      if (next.has(pageId)) {\n        next.delete(pageId);\n      } else {\n        next.add(pageId);\n      }\n      return next;\n    });\n  };\n\n  const renderNode = (node: PageTreeNode, depth = 0) => {\n    const isExpanded = expanded.has(node.id);\n    const hasChildren = node.children.length > 0;\n    const isActive = currentPageId === node.id;\n\n    return (\n      <div key={node.id}>\n        <div\n          className={`page-item ${isActive ? \"active\" : \"\"}`}\n          style={{ paddingLeft: `${depth * 1.5 + 0.5}rem` }}\n          onClick={() => onPageSelect(node.id)}\n        >\n          {hasChildren && (\n            <button\n              className=\"expand-btn\"\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleExpand(node.id);\n              }}\n            >\n              {isExpanded ? \"‚ñº\" : \"‚ñ∂\"}\n            </button>\n          )}\n          {node.icon && <span className=\"page-icon\">{node.icon}</span>}\n          <span className=\"page-title\">{node.title}</span>\n        </div>\n        {hasChildren && isExpanded && (\n          <div className=\"page-children\">\n            {node.children.map((child) => renderNode(child, depth + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <aside className=\"sidebar\">\n      <div className=\"sidebar-header\">\n        <button className=\"new-page-btn\" onClick={onCreatePage}>\n          + ÏÉà ÌéòÏù¥ÏßÄ\n        </button>\n      </div>\n      <nav className=\"page-tree\">\n        {tree && renderNode(tree)}\n      </nav>\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;AAIA,MAAM,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAiB5C,SAAS,QAAQ,EAAE,KAAK,EAAE,aAAa,EAAE,YAAY,EAAE,YAAY,EAAE,cAAc,EAAgB;;IACxG,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe,IAAI;IAE1D,MAAM,WAAW;QACf,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,QAAQ,WAAW,CAAC,EAAE;gBAC/C,SAAS;oBAAE,gBAAgB;gBAAM;YACnC;YACA,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ;gBACR,YAAY,IAAI,IAAI;oBAAC,KAAK,EAAE;iBAAC;YAC/B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC;QAAO;KAAe;IAE1B,MAAM,eAAe,CAAC;QACpB,YAAY,CAAC;YACX,MAAM,OAAO,IAAI,IAAI;YACrB,IAAI,KAAK,GAAG,CAAC,SAAS;gBACpB,KAAK,MAAM,CAAC;YACd,OAAO;gBACL,KAAK,GAAG,CAAC;YACX;YACA,OAAO;QACT;IACF;IAEA,MAAM,aAAa,CAAC,MAAoB,QAAQ,CAAC;QAC/C,MAAM,aAAa,SAAS,GAAG,CAAC,KAAK,EAAE;QACvC,MAAM,cAAc,KAAK,QAAQ,CAAC,MAAM,GAAG;QAC3C,MAAM,WAAW,kBAAkB,KAAK,EAAE;QAE1C,qBACE,6LAAC;;8BACC,6LAAC;oBACC,WAAW,CAAC,UAAU,EAAE,WAAW,WAAW,GAAG,CAAC;oBAClD,OAAO;wBAAE,aAAa,CAAC,EAAE,QAAQ,MAAM,IAAI,GAAG,CAAC;oBAAC;oBAChD,SAAS,IAAM,aAAa,KAAK,EAAE;;wBAElC,6BACC,6LAAC;4BACC,WAAU;4BACV,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB,aAAa,KAAK,EAAE;4BACtB;sCAEC,aAAa,MAAM;;;;;;wBAGvB,KAAK,IAAI,kBAAI,6LAAC;4BAAK,WAAU;sCAAa,KAAK,IAAI;;;;;;sCACpD,6LAAC;4BAAK,WAAU;sCAAc,KAAK,KAAK;;;;;;;;;;;;gBAEzC,eAAe,4BACd,6LAAC;oBAAI,WAAU;8BACZ,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAU,WAAW,OAAO,QAAQ;;;;;;;WAtBpD,KAAK,EAAE;;;;;IA2BrB;IAEA,qBACE,6LAAC;QAAM,WAAU;;0BACf,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAO,WAAU;oBAAe,SAAS;8BAAc;;;;;;;;;;;0BAI1D,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,WAAW;;;;;;;;;;;;AAI5B;GAnFgB;KAAA"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/block-editor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEditor, EditorContent } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Placeholder from \"@tiptap/extension-placeholder\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { BlockRenderer } from \"./block-renderer\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000/api\";\n\ntype Block = {\n  id: string;\n  type: string;\n  props: Record<string, unknown>;\n  position: number;\n};\n\ntype BlockEditorProps = {\n  token: string | null;\n  pageId: string;\n  blocks: Block[];\n  onBlockUpdate?: (blockId: string, props: Record<string, unknown>) => void;\n  onBlockCreate?: (type: string, props: Record<string, unknown>) => void;\n};\n\nexport function BlockEditor({ token, pageId, blocks, onBlockUpdate, onBlockCreate }: BlockEditorProps) {\n  const [mounted, setMounted] = useState(false);\n  const [showSlashMenu, setShowSlashMenu] = useState(false);\n  const [slashMenuPosition, setSlashMenuPosition] = useState({ top: 0, left: 0 });\n  const [slashQuery, setSlashQuery] = useState(\"\");\n  const lastPageIdRef = useRef<string>(\"\");\n  const isUpdatingRef = useRef(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const editor = useEditor({\n    immediatelyRender: false,\n    extensions: [\n      StarterKit,\n      Placeholder.configure({\n        placeholder: \"ÏãúÏûëÌïòÎ†§Î©¥ '/'Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\n      })\n    ],\n    content: \"\",\n    onUpdate: ({ editor }) => {\n      if (!token || !onBlockUpdate || isUpdatingRef.current) return;\n      const text = editor.getText();\n      const firstBlock = blocks.find((b) => b.type === \"paragraph\");\n      if (firstBlock) {\n        onBlockUpdate(firstBlock.id, { text });\n      }\n    },\n    onSelectionUpdate: ({ editor }) => {\n      const { from } = editor.state.selection;\n      const textBefore = editor.state.doc.textBetween(Math.max(0, from - 20), from);\n      const match = textBefore.match(/\\/(\\w*)$/);\n      \n      if (match) {\n        const rect = editor.view.coordsAtPos(from);\n        setSlashMenuPosition({ top: rect.top + 20, left: rect.left });\n        setSlashQuery(match[1]);\n        setShowSlashMenu(true);\n      } else {\n        setShowSlashMenu(false);\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (!editor || !mounted) return;\n\n    if (lastPageIdRef.current !== pageId) {\n      lastPageIdRef.current = pageId;\n      const content = blocks\n        .filter((b) => b.type === \"paragraph\")\n        .map((b) => `<p>${String(b.props.text ?? \"\")}</p>`)\n        .join(\"\");\n      \n      isUpdatingRef.current = true;\n      editor.commands.setContent(content || \"<p></p>\");\n      setTimeout(() => {\n        isUpdatingRef.current = false;\n      }, 100);\n    } else {\n      const currentContent = editor.getHTML();\n      const expectedContent = blocks\n        .filter((b) => b.type === \"paragraph\")\n        .map((b) => `<p>${String(b.props.text ?? \"\")}</p>`)\n        .join(\"\") || \"<p></p>\";\n      \n      if (currentContent !== expectedContent && !isUpdatingRef.current) {\n        isUpdatingRef.current = true;\n        editor.commands.setContent(expectedContent);\n        setTimeout(() => {\n          isUpdatingRef.current = false;\n        }, 100);\n      }\n    }\n  }, [editor, blocks, pageId, mounted]);\n\n  const handleSlashCommand = async (command: string) => {\n    if (!editor || !onBlockCreate || !token) return;\n    \n    const commands: Record<string, { type: string; label: string; icon: string }> = {\n      table: { type: \"table\", label: \"Ìëú\", icon: \"üìä\" },\n      board: { type: \"board\", label: \"Î≥¥Îìú\", icon: \"üìã\" },\n      list: { type: \"list\", label: \"Î¶¨Ïä§Ìä∏\", icon: \"üìù\" },\n      timeline: { type: \"timeline\", label: \"ÌÉÄÏûÑÎùºÏù∏\", icon: \"‚è±Ô∏è\" },\n      calendar: { type: \"calendar_view\", label: \"Ï∫òÎ¶∞Îçî\", icon: \"üìÖ\" },\n      gallery: { type: \"gallery\", label: \"Í∞§Îü¨Î¶¨\", icon: \"üñºÔ∏è\" }\n    };\n\n    const cmd = commands[command];\n    if (cmd) {\n      const { from } = editor.state.selection;\n      const textBefore = editor.state.doc.textBetween(Math.max(0, from - 20), from);\n      const match = textBefore.match(/\\/(\\w*)$/);\n      \n      if (match) {\n        editor.commands.deleteRange({ from: from - match[0].length, to: from });\n        onBlockCreate(cmd.type, { title: cmd.label });\n      }\n    }\n    setShowSlashMenu(false);\n  };\n\n  const slashCommands = [\n    { key: \"table\", label: \"Ìëú\", icon: \"üìä\" },\n    { key: \"board\", label: \"Î≥¥Îìú\", icon: \"üìã\" },\n    { key: \"list\", label: \"Î¶¨Ïä§Ìä∏\", icon: \"üìù\" },\n    { key: \"timeline\", label: \"ÌÉÄÏûÑÎùºÏù∏\", icon: \"‚è±Ô∏è\" },\n    { key: \"calendar\", label: \"Ï∫òÎ¶∞Îçî\", icon: \"üìÖ\" },\n    { key: \"gallery\", label: \"Í∞§Îü¨Î¶¨\", icon: \"üñºÔ∏è\" }\n  ].filter(cmd => \n    cmd.key.includes(slashQuery.toLowerCase()) || \n    cmd.label.includes(slashQuery)\n  );\n\n  if (!mounted || !editor) {\n    return <div className=\"editor-loading\">ÏóêÎîîÌÑ∞ Î°úÎî© Ï§ë...</div>;\n  }\n\n  const nonParagraphBlocks = blocks.filter(b => b.type !== \"paragraph\");\n\n  return (\n    <div className=\"block-editor\">\n      <EditorContent editor={editor} />\n      {nonParagraphBlocks.map((block) => (\n        <BlockRenderer\n          key={block.id}\n          block={block}\n          token={token}\n        />\n      ))}\n      {showSlashMenu && (\n        <div\n          className=\"slash-menu\"\n          style={{\n            position: \"absolute\",\n            top: `${slashMenuPosition.top}px`,\n            left: `${slashMenuPosition.left}px`,\n            background: \"white\",\n            border: \"1px solid #ddd\",\n            borderRadius: \"4px\",\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n            zIndex: 1000,\n            minWidth: \"200px\"\n          }}\n        >\n          {slashCommands.map((cmd) => (\n            <div\n              key={cmd.key}\n              onClick={() => handleSlashCommand(cmd.key)}\n              style={{\n                padding: \"8px 12px\",\n                cursor: \"pointer\",\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"8px\"\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.background = \"#f0f0f0\";\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.background = \"white\";\n              }}\n            >\n              <span>{cmd.icon}</span>\n              <span>{cmd.label}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/components/share-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000/api\";\n\ntype ShareModalProps = {\n  token: string;\n  pageId: string;\n  onClose: () => void;\n};\n\nexport function ShareModal({ token, pageId, onClose }: ShareModalProps) {\n  const [email, setEmail] = useState(\"\");\n  const [status, setStatus] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<\"invite\" | \"link\">(\"invite\");\n\n  const handleInvite = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email.trim()) {\n      setStatus(\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    try {\n      const res = await fetch(`${API_URL}/pages/${pageId}/collaborators`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-token\": token\n        },\n        body: JSON.stringify({ email })\n      });\n\n      if (res.ok) {\n        setStatus(`${email} ÎãòÏùÑ Ï¥àÎåÄÌñàÏäµÎãàÎã§. Ï¥àÎåÄÎêú ÏÇ¨Ïö©ÏûêÎäî ÌöåÏõêÍ∞ÄÏûÖ ÌõÑ Ïù¥ ÌéòÏù¥ÏßÄÏóê Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.`);\n        setEmail(\"\");\n      } else {\n        const error = await res.json().catch(() => ({ message: \"Ï¥àÎåÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\" }));\n        setStatus(error.message ?? \"Ï¥àÎåÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n      }\n    } catch (error) {\n      setStatus(\"ÏóêÎü¨Í∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.\");\n    }\n  };\n\n  const handleCopyLink = () => {\n    const link = `${window.location.origin}/workspace?page=${pageId}`;\n    navigator.clipboard.writeText(link).then(() => {\n      setStatus(\"ÎßÅÌÅ¨Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§.\");\n    });\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: \"500px\" }}>\n        <h2>ÌéòÏù¥ÏßÄ Í≥µÏú†</h2>\n        <div style={{ display: \"flex\", gap: \"1rem\", marginBottom: \"1rem\", borderBottom: \"1px solid #eee\" }}>\n          <button\n            type=\"button\"\n            onClick={() => setActiveTab(\"invite\")}\n            style={{\n              padding: \"0.5rem 1rem\",\n              border: \"none\",\n              background: activeTab === \"invite\" ? \"#f0f0f0\" : \"transparent\",\n              cursor: \"pointer\"\n            }}\n          >\n            Ïù¥Î©îÏùº Ï¥àÎåÄ\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setActiveTab(\"link\")}\n            style={{\n              padding: \"0.5rem 1rem\",\n              border: \"none\",\n              background: activeTab === \"link\" ? \"#f0f0f0\" : \"transparent\",\n              cursor: \"pointer\"\n            }}\n          >\n            ÎßÅÌÅ¨ Í≥µÏú†\n          </button>\n        </div>\n\n        {activeTab === \"invite\" && (\n          <div>\n            <p style={{ marginBottom: \"1rem\", color: \"#666\", fontSize: \"0.9rem\" }}>\n              Ïù¥Î©îÏùºÎ°ú Ï¥àÎåÄÌïòÎ©¥ Ìï¥Îãπ ÏÇ¨Ïö©ÏûêÍ∞Ä ÌöåÏõêÍ∞ÄÏûÖ ÌõÑ Ïù¥ ÌéòÏù¥ÏßÄÏóê Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.\n            </p>\n            <form onSubmit={handleInvite}>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder=\"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî\"\n                required\n                style={{ width: \"100%\", padding: \"0.5rem\", marginBottom: \"1rem\" }}\n              />\n              <button type=\"submit\" className=\"button primary\" style={{ width: \"100%\" }}>\n                Ï¥àÎåÄÌïòÍ∏∞\n              </button>\n            </form>\n          </div>\n        )}\n\n        {activeTab === \"link\" && (\n          <div>\n            <p style={{ marginBottom: \"1rem\", color: \"#666\", fontSize: \"0.9rem\" }}>\n              ÎßÅÌÅ¨Î•º Í≥µÏú†ÌïòÎ©¥ Ìï¥Îãπ ÎßÅÌÅ¨Î•º Í∞ÄÏßÑ ÏÇ¨Ïö©ÏûêÍ∞Ä ÌöåÏõêÍ∞ÄÏûÖ ÌõÑ Ïù¥ ÌéòÏù¥ÏßÄÏóê Ï†ëÍ∑ºÌï† Ïàò ÏûàÏäµÎãàÎã§.\n            </p>\n            <div style={{ display: \"flex\", gap: \"0.5rem\" }}>\n              <input\n                type=\"text\"\n                value={`${window.location.origin}/workspace?page=${pageId}`}\n                readOnly\n                style={{ flex: 1, padding: \"0.5rem\" }}\n              />\n              <button onClick={handleCopyLink} className=\"button primary\">\n                Î≥µÏÇ¨\n              </button>\n            </div>\n          </div>\n        )}\n\n        {status && (\n          <p className=\"status\" style={{ marginTop: \"1rem\", padding: \"0.5rem\", background: \"#f0f0f0\", borderRadius: \"4px\" }}>\n            {status}\n          </p>\n        )}\n        <button onClick={onClose} className=\"button secondary\" style={{ marginTop: \"1rem\", width: \"100%\" }}>\n          Îã´Í∏∞\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;AAIA,MAAM,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAQ5C,SAAS,WAAW,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAmB;;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAqB;IAE9D,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;YACjB,UAAU;YACV;QACF;QACA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,QAAQ,OAAO,EAAE,OAAO,cAAc,CAAC,EAAE;gBAClE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YAC/B;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,UAAU,CAAC,EAAE,MAAM,8CAA8C,CAAC;gBAClE,SAAS;YACX,OAAO;gBACL,MAAM,QAAQ,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;wBAAE,SAAS;oBAAc,CAAC;gBACtE,UAAU,MAAM,OAAO,IAAI;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,UAAU;QACZ;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,OAAO,CAAC,EAAE,OAAO,QAAQ,CAAC,MAAM,CAAC,gBAAgB,EAAE,OAAO,CAAC;QACjE,UAAU,SAAS,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC;YACvC,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAgB,SAAS;kBACtC,cAAA,6LAAC;YAAI,WAAU;YAAQ,SAAS,CAAC,IAAM,EAAE,eAAe;YAAI,OAAO;gBAAE,UAAU;YAAQ;;8BACrF,6LAAC;8BAAG;;;;;;8BACJ,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,KAAK;wBAAQ,cAAc;wBAAQ,cAAc;oBAAiB;;sCAC/F,6LAAC;4BACC,MAAK;4BACL,SAAS,IAAM,aAAa;4BAC5B,OAAO;gCACL,SAAS;gCACT,QAAQ;gCACR,YAAY,cAAc,WAAW,YAAY;gCACjD,QAAQ;4BACV;sCACD;;;;;;sCAGD,6LAAC;4BACC,MAAK;4BACL,SAAS,IAAM,aAAa;4BAC5B,OAAO;gCACL,SAAS;gCACT,QAAQ;gCACR,YAAY,cAAc,SAAS,YAAY;gCAC/C,QAAQ;4BACV;sCACD;;;;;;;;;;;;gBAKF,cAAc,0BACb,6LAAC;;sCACC,6LAAC;4BAAE,OAAO;gCAAE,cAAc;gCAAQ,OAAO;gCAAQ,UAAU;4BAAS;sCAAG;;;;;;sCAGvE,6LAAC;4BAAK,UAAU;;8CACd,6LAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,aAAY;oCACZ,QAAQ;oCACR,OAAO;wCAAE,OAAO;wCAAQ,SAAS;wCAAU,cAAc;oCAAO;;;;;;8CAElE,6LAAC;oCAAO,MAAK;oCAAS,WAAU;oCAAiB,OAAO;wCAAE,OAAO;oCAAO;8CAAG;;;;;;;;;;;;;;;;;;gBAOhF,cAAc,wBACb,6LAAC;;sCACC,6LAAC;4BAAE,OAAO;gCAAE,cAAc;gCAAQ,OAAO;gCAAQ,UAAU;4BAAS;sCAAG;;;;;;sCAGvE,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,KAAK;4BAAS;;8CAC3C,6LAAC;oCACC,MAAK;oCACL,OAAO,CAAC,EAAE,OAAO,QAAQ,CAAC,MAAM,CAAC,gBAAgB,EAAE,OAAO,CAAC;oCAC3D,QAAQ;oCACR,OAAO;wCAAE,MAAM;wCAAG,SAAS;oCAAS;;;;;;8CAEtC,6LAAC;oCAAO,SAAS;oCAAgB,WAAU;8CAAiB;;;;;;;;;;;;;;;;;;gBAOjE,wBACC,6LAAC;oBAAE,WAAU;oBAAS,OAAO;wBAAE,WAAW;wBAAQ,SAAS;wBAAU,YAAY;wBAAW,cAAc;oBAAM;8BAC7G;;;;;;8BAGL,6LAAC;oBAAO,SAAS;oBAAS,WAAU;oBAAmB,OAAO;wBAAE,WAAW;wBAAQ,OAAO;oBAAO;8BAAG;;;;;;;;;;;;;;;;;AAM5G;GA1HgB;KAAA"}},
    {"offset": {"line": 714, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/apps/web/src/app/workspace/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Sidebar } from \"../../components/sidebar\";\nimport { BlockEditor } from \"../../components/block-editor\";\nimport { ShareModal } from \"../../components/share-modal\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL ?? \"http://localhost:4000/api\";\n\ntype Page = {\n  id: string;\n  title: string;\n  entries: Array<{ id: string; authorId: string; content: string; createdAt: string }>;\n  blockIds: string[];\n};\n\ntype Block = {\n  id: string;\n  type: string;\n  props: Record<string, unknown>;\n  position: number;\n};\n\nexport default function WorkspacePage() {\n  const [token, setToken] = useState<string | null>(null);\n  const [currentPage, setCurrentPage] = useState<Page | null>(null);\n  const [blocks, setBlocks] = useState<Block[]>([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [newPageTitle, setNewPageTitle] = useState(\"\");\n  const [sidebarRefresh, setSidebarRefresh] = useState(0);\n  const [status, setStatus] = useState<string | null>(null);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"auth_token\");\n    if (stored) {\n      setToken(stored);\n      loadPersonalPage(stored);\n    } else {\n      window.location.href = \"/my-space\";\n    }\n  }, []);\n\n  const loadPersonalPage = async (tokenValue: string) => {\n    try {\n      const res = await fetch(`${API_URL}/pages/me`, {\n        headers: { \"x-user-token\": tokenValue }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setCurrentPage(data);\n        loadBlocks(data.id, tokenValue);\n      }\n    } catch (error) {\n      console.error(\"Failed to load page\", error);\n    }\n  };\n\n  const loadPage = async (pageId: string) => {\n    if (!token) return;\n    try {\n      const res = await fetch(`${API_URL}/pages/${pageId}`, {\n        headers: { \"x-user-token\": token }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setCurrentPage(data);\n        loadBlocks(pageId, token);\n      }\n    } catch (error) {\n      console.error(\"Failed to load page\", error);\n    }\n  };\n\n  const loadBlocks = async (pageId: string, tokenValue: string) => {\n    try {\n      const res = await fetch(`${API_URL}/pages/${pageId}/blocks`, {\n        headers: { \"x-user-token\": tokenValue }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setBlocks(data || []);\n      }\n    } catch (error) {\n      console.error(\"Failed to load blocks\", error);\n      setBlocks([]);\n    }\n  };\n\n  const handlePageSelect = (pageId: string) => {\n    loadPage(pageId);\n  };\n\n  const handleCreatePage = () => {\n    setShowCreateModal(true);\n  };\n\n  const createPage = async () => {\n    if (!token || !newPageTitle.trim()) {\n      setStatus(\"ÌéòÏù¥ÏßÄ Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    try {\n      const res = await fetch(`${API_URL}/pages`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-token\": token\n        },\n        body: JSON.stringify({ title: newPageTitle })\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setShowCreateModal(false);\n        setNewPageTitle(\"\");\n        setStatus(\"ÌéòÏù¥ÏßÄÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.\");\n        setSidebarRefresh((prev) => prev + 1);\n        loadPage(data.id);\n        setTimeout(() => setStatus(null), 2000);\n      } else {\n        const error = await res.json().catch(() => ({ message: \"ÌéòÏù¥ÏßÄ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\" }));\n        setStatus(error.message ?? \"ÌéòÏù¥ÏßÄ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to create page\", error);\n      setStatus(\"ÌéòÏù¥ÏßÄ ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n    }\n  };\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!token || !currentPage || !e.target.files?.[0]) return;\n\n    const file = e.target.files[0];\n    setStatus(\"ÌååÏùº ÏóÖÎ°úÎìú Ï§ë...\");\n    try {\n      const res = await fetch(`${API_URL}/files/upload`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-token\": token\n        },\n        body: JSON.stringify({\n          filename: file.name,\n          size: file.size,\n          mimeType: file.type,\n          pageId: currentPage.id\n        })\n      });\n\n      if (res.ok) {\n        setStatus(`${file.name} ÌååÏùºÏù¥ ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§.`);\n        loadBlocks(currentPage.id, token);\n        setTimeout(() => setStatus(null), 2000);\n      } else {\n        const error = await res.json().catch(() => ({ message: \"ÌååÏùº ÏóÖÎ°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\" }));\n        setStatus(error.message ?? \"ÌååÏùº ÏóÖÎ°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n      }\n    } catch (error) {\n      console.error(\"Failed to upload file\", error);\n      setStatus(\"ÌååÏùº ÏóÖÎ°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n    }\n    e.target.value = \"\";\n  };\n\n  const handleBlockUpdate = async (blockId: string, props: Record<string, unknown>) => {\n    if (!token) return;\n    try {\n      await fetch(`${API_URL}/pages/blocks/${blockId}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-user-token\": token\n        },\n        body: JSON.stringify(props)\n      });\n    } catch (error) {\n      console.error(\"Failed to update block\", error);\n    }\n  };\n\n  if (!token || !currentPage) {\n    return <div className=\"workspace-loading\">Î°úÎî© Ï§ë...</div>;\n  }\n\n  return (\n    <div className=\"workspace-layout\">\n      <Sidebar\n        token={token}\n        currentPageId={currentPage.id}\n        onPageSelect={handlePageSelect}\n        onCreatePage={handleCreatePage}\n        refreshTrigger={sidebarRefresh}\n      />\n      <main className=\"workspace-main\">\n        <header className=\"page-header\">\n          <h1>{currentPage.title}</h1>\n          <div className=\"page-actions\">\n            <label className=\"file-upload-btn\">\n              üìé ÌååÏùº ÏóÖÎ°úÎìú\n              <input type=\"file\" onChange={handleFileUpload} style={{ display: \"none\" }} />\n            </label>\n            <button className=\"button secondary\" onClick={() => setShowShareModal(true)}>\n              Í≥µÏú†\n            </button>\n          </div>\n        </header>\n        {status && <div className=\"status-message\">{status}</div>}\n        <div className=\"page-content\">\n          <BlockEditor\n            token={token}\n            pageId={currentPage.id}\n            blocks={blocks}\n            onBlockUpdate={handleBlockUpdate}\n          />\n        </div>\n      </main>\n      {showCreateModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowCreateModal(false)}>\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n            <h2>ÏÉà ÌéòÏù¥ÏßÄ</h2>\n            <input\n              type=\"text\"\n              value={newPageTitle}\n              onChange={(e) => setNewPageTitle(e.target.value)}\n              placeholder=\"ÌéòÏù¥ÏßÄ Ï†úÎ™©\"\n              autoFocus\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\") {\n                  createPage();\n                }\n              }}\n            />\n            <div className=\"modal-actions\">\n              <button onClick={createPage}>ÏÉùÏÑ±</button>\n              <button onClick={() => setShowCreateModal(false)}>Ï∑®ÏÜå</button>\n            </div>\n          </div>\n        </div>\n      )}\n      {showShareModal && currentPage && (\n        <ShareModal token={token} pageId={currentPage.id} onClose={() => setShowShareModal(false)} />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1094, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}